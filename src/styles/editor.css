/* TipTap editor chrome */
.tiptap {
  outline: none;
  caret-color: var(--color-text-primary);
}

.tiptap:focus {
  outline: none;
}

/* Placeholder when empty */
.tiptap p.is-editor-empty:first-child::before {
  content: 'Start writing or open a file (\2318O)...';
  float: left;
  color: var(--color-text-secondary);
  pointer-events: none;
  height: 0;
  font-style: italic;
}

/* Selection highlight */
.tiptap ::selection {
  background: rgba(66, 133, 244, 0.2);
}

/* Highlight colors */
.tiptap mark[data-color="yellow"],
.tiptap mark.highlight--yellow {
  background-color: var(--color-highlight-yellow);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="green"],
.tiptap mark.highlight--green {
  background-color: var(--color-highlight-green);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="blue"],
.tiptap mark.highlight--blue {
  background-color: var(--color-highlight-blue);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="pink"],
.tiptap mark.highlight--pink {
  background-color: var(--color-highlight-pink);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="orange"],
.tiptap mark.highlight--orange {
  background-color: var(--color-highlight-orange);
  border-radius: 2px;
  padding: 1px 0;
}

/* Dark mode highlights â€” slightly more saturated */
@media (prefers-color-scheme: dark) {
  .tiptap ::selection {
    background: rgba(66, 133, 244, 0.35);
  }

  .tiptap mark[data-color="yellow"],
  .tiptap mark.highlight--yellow {
    background-color: rgba(234, 179, 8, 0.3);
  }

  .tiptap mark[data-color="green"],
  .tiptap mark.highlight--green {
    background-color: rgba(34, 197, 94, 0.25);
  }

  .tiptap mark[data-color="blue"],
  .tiptap mark.highlight--blue {
    background-color: rgba(59, 130, 246, 0.25);
  }

  .tiptap mark[data-color="pink"],
  .tiptap mark.highlight--pink {
    background-color: rgba(236, 72, 153, 0.25);
  }

  .tiptap mark[data-color="orange"],
  .tiptap mark.highlight--orange {
    background-color: rgba(249, 115, 22, 0.25);
  }
}

/* Smooth typing feel */
.tiptap * {
  transition: background-color 0.1s ease;
}

/* Floating toolbar button states */
.toolbar-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
  border-radius: 6px;
  color: var(--color-text-secondary);
  background-color: transparent;
  cursor: pointer;
  transition: background-color 120ms ease, color 120ms ease, transform 120ms ease;
}

.toolbar-btn:hover {
  background-color: rgba(0, 0, 0, 0.08);
  color: var(--color-text-primary);
}

.toolbar-btn:active {
  background-color: rgba(0, 0, 0, 0.12);
  transform: scale(0.92);
}

@media (prefers-color-scheme: dark) {
  .toolbar-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }

  .toolbar-btn:active {
    background-color: rgba(255, 255, 255, 0.15);
  }
}

/* Highlight click interaction */
.tiptap mark[data-color] {
  transition: background-color 0.15s ease, filter 0.15s ease;
  cursor: pointer;
}

.tiptap mark[data-color]:hover {
  filter: brightness(0.95);
}

@media (prefers-color-scheme: dark) {
  .tiptap mark[data-color]:hover {
    filter: brightness(1.15);
  }
}
