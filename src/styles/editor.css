/* TipTap editor chrome */
.tiptap {
  outline: none;
  caret-color: var(--color-text-primary);
}

.tiptap:focus {
  outline: none;
}

/* Placeholder when empty */
.tiptap p.is-editor-empty:first-child::before {
  content: 'Start writing or open a file (\2318O)...';
  float: left;
  color: var(--color-text-secondary);
  pointer-events: none;
  height: 0;
  font-style: italic;
}

/* Selection highlight */
.tiptap ::selection {
  background: rgba(66, 133, 244, 0.2);
}

/* Highlight colors */
.tiptap mark[data-color="yellow"],
.tiptap mark.highlight--yellow {
  background-color: var(--color-highlight-yellow);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="green"],
.tiptap mark.highlight--green {
  background-color: var(--color-highlight-green);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="blue"],
.tiptap mark.highlight--blue {
  background-color: var(--color-highlight-blue);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="pink"],
.tiptap mark.highlight--pink {
  background-color: var(--color-highlight-pink);
  border-radius: 2px;
  padding: 1px 0;
}

.tiptap mark[data-color="orange"],
.tiptap mark.highlight--orange {
  background-color: var(--color-highlight-orange);
  border-radius: 2px;
  padding: 1px 0;
}

/* Dark mode highlights â€” slightly more saturated */
@media (prefers-color-scheme: dark) {
  .tiptap ::selection {
    background: rgba(66, 133, 244, 0.35);
  }

  .tiptap mark[data-color="yellow"],
  .tiptap mark.highlight--yellow {
    background-color: rgba(234, 179, 8, 0.3);
  }

  .tiptap mark[data-color="green"],
  .tiptap mark.highlight--green {
    background-color: rgba(34, 197, 94, 0.25);
  }

  .tiptap mark[data-color="blue"],
  .tiptap mark.highlight--blue {
    background-color: rgba(59, 130, 246, 0.25);
  }

  .tiptap mark[data-color="pink"],
  .tiptap mark.highlight--pink {
    background-color: rgba(236, 72, 153, 0.25);
  }

  .tiptap mark[data-color="orange"],
  .tiptap mark.highlight--orange {
    background-color: rgba(249, 115, 22, 0.25);
  }
}

/* Smooth highlight color transitions */
.tiptap mark[data-color] {
  transition: background-color var(--duration-normal) var(--ease-micro);
}

/* Floating toolbar button states */
.toolbar-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  background-color: transparent;
  cursor: pointer;
  transition: background-color var(--duration-fast) var(--ease-micro), color var(--duration-fast) var(--ease-micro), transform var(--duration-fast) var(--ease-micro);
}

.toolbar-btn:hover {
  background-color: var(--hover-bg);
  color: var(--color-text-primary);
}

.toolbar-btn:active {
  background-color: var(--active-bg);
  transform: scale(0.92);
}

.toolbar-btn:focus-visible {
  outline: 2px solid var(--color-text-secondary);
  outline-offset: -1px;
}

/* Highlight click interaction */
.tiptap mark[data-color] {
  transition: background-color var(--duration-normal) var(--ease-micro), filter var(--duration-normal) var(--ease-micro);
  cursor: pointer;
}

.tiptap mark[data-color]:hover {
  filter: brightness(0.95);
}

@media (prefers-color-scheme: dark) {
  .tiptap mark[data-color]:hover {
    filter: brightness(1.15);
  }
}

/* Hamburger toggle button */
.toolbar-hamburger {
  color: var(--color-text-secondary);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: color var(--duration-fast) var(--ease-micro), background-color var(--duration-fast) var(--ease-micro), transform var(--duration-fast) var(--ease-micro);
}

.toolbar-hamburger:hover {
  color: var(--color-text-primary);
  background-color: var(--hover-bg);
}

.toolbar-hamburger:active {
  background-color: var(--active-bg);
  transform: scale(0.92);
}

.toolbar-hamburger:focus-visible {
  outline: 2px solid var(--color-text-secondary);
  outline-offset: -1px;
}
